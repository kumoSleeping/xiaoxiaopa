# 1.å®‰è£…python3ä»¥åŠå¿…é¡»åº“
æˆ‘ä»¬æ¨èæ‚¨å®‰è£…python3.9ä»¥ä¸Šçš„ç‰ˆæœ¬ï¼Œä¾‹å¦‚python3.11/3.10
#### å¿…é¡»åº“
```shell
pip install flask aiohttp asyncio websockets requests
```
æˆ–å°è¯•
```shell
pip3 install flask aiohttp asyncio websockets requests
```

# 2.å®‰è£…å’Œé…ç½®go-cqhttp
åœ¨å®˜ç½‘ä¸‹è½½æœ€æ–°ç‰ˆï¼ŒæŒ‰ç…§å®˜ç½‘æ•™ç¨‹åˆ›å»ºå‡ºyamlä»¥åï¼Œç”¨ä¸‹é¢çš„é…ç½®è¦†ç›–æ‰åŸæ¥çš„éƒ¨åˆ†
```yaml
# è¿æ¥æœåŠ¡åˆ—è¡¨
servers:
  - http: # HTTP é€šä¿¡è®¾ç½®
      address: 0.0.0.0:16800 # HTTPç›‘å¬åœ°å€
      timeout: 500      # åå‘ HTTP è¶…æ—¶æ—¶é—´, å•ä½ç§’ï¼Œ<5 æ—¶å°†è¢«å¿½ç•¥
      long-polling:   # é•¿è½®è¯¢æ‹“å±•
        enabled: false       # æ˜¯å¦å¼€å¯
        max-queue-size: 2000 # æ¶ˆæ¯é˜Ÿåˆ—å¤§å°, 0 è¡¨ç¤ºä¸é™åˆ¶é˜Ÿåˆ—å¤§å°ï¼Œè°¨æ…ä½¿ç”¨
      middlewares:
        <<: *default # å¼•ç”¨é»˜è®¤ä¸­é—´ä»¶
      post:           # åå‘HTTP POSTåœ°å€åˆ—è¡¨

  - ws-reverse:
      # æ˜¯å¦ç¦ç”¨å½“å‰åå‘WSæœåŠ¡
      disabled: false
      # åå‘WS Universal åœ°å€
      universal: ws://localhost:6800
      # é‡è¿é—´éš” å•ä½æ¯«ç§’
      reconnect-interval: 300
      middlewares:
        <<: *default # å¼•ç”¨é»˜è®¤ä¸­é—´ä»¶
```


# 3.é…ç½®configæ–‡ä»¶å¤¹
### *bot1.json*
```json
{
    "qq_number": 114514,
    "http_port": 16800,
    "ws_port": 6800
}
```
qq_numberå¡«å†™botçš„QQå·
å‰©ä¸‹å’Œgo-cqhttpçš„yamlæ–‡ä»¶å¡«å†™ä¸€è‡´å³å¯
### *path.json*
ç”±äº macOS ä¸ Linux æ²¡æœ‰ç›˜ç¬¦ï¼Œåªéœ€è¦å¡«å†™
```json
[
    {
        "administer": "file://"
    }
]
```
è€ŒWindowséœ€è¦å¡«å†™
```json
[
    {
        "administer": "file:///"
    }
]
```
**å¦‚æœä¸è¡Œä½ å¯ä»¥è‡ªå·±ç ”ç©¶ä¸€ä¸‹ï¼Œä¸»è¦æ˜¯cqç ç”¨**
```python
# è·¯å¾„ ğŸ”§
path = path_str + current_dir + '/'
```
ï¼ˆæŠŠæœ¬åœ°çš„æ–‡ä»¶æ‹–å…¥æµè§ˆå™¨ï¼Œçœ‹åœ°å€æ å³å¯
# 4.å…³äºè¿è¡Œ
æ¯æ¬¡è¿è¡Œæ—¶,ä½ éœ€è¦å¯åŠ¨
>go-cqhttp

>xxp_l.py

>xxp_c.py

**è¿è¡Œæ—¶éœ€è¦ä¿è¯å¯¹åº”ç«¯å£ç»Ÿä¸€ä¸”æ²¡è¢«å ç”¨**
**ä¸€èˆ¬æ¥è¯´æŒ‰ç…§ä¸Šé¢å¡«å°±ä¸ä¼šæœ‰é—®é¢˜**
ï¼ˆå¦‚æœä½ æ˜¯åœ¨Linuxç¯å¢ƒä¸‹ï¼Œæ³¨æ„ç¨‹åºçš„ä¿æ´»ï¼ˆå¦‚ç”¨pm2ç®¡ç†ï¼‰ï¼‰

**åˆå§‹è®¾å®šä¸‹ï¼Œåœ¨è¿è¡Œæ—¶ä¿®æ”¹æ–‡ä»¶å¹¶ä¿å­˜ï¼Œbotå°±ä¼šé‡å¯**
ä½ å¯ä»¥å°†**debug**å’Œ**use_reloader**è®¾ç½®ä¸º**False**é˜²æ­¢è‡ªåŠ¨é‡å¯
å¦‚ï¼š
```python
if __name__ == '__main__':
    app.run(port=send_port, host='0.0.0.0', debug=False, use_reloader=False)
```